<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendario Lit√∫rgico</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
        }
        
        .liturgical-card {
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .liturgical-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .time-adviento { background-color: #6B46C1; }
        .time-navidad { background-color: #FFFFFF; color: #1F2937; }
        .time-cuaresma { background-color: #6B46C1; }
        .time-pascua { background-color: #FFFFFF; color: #1F2937; }
        .time-ordinario { background-color: #10B981; }
        .time-pentecostes { background-color: #DC2626; }
        
        .cycle-badge {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .saint-row:hover {
            background-color: #F3F4F6;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .timeline-container {
            position: relative;
            height: 180px;
            overflow: hidden;
            border-radius: 12px;
            background: linear-gradient(to bottom, #f9fafb, #f3f4f6);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        .timeline-svg {
            width: 100%;
            height: 100%;
        }
        
        .timeline-label {
            font-size: 13px;
            font-weight: 600;
            text-align: center;
            fill: #374151;
        }
        
        .current-line {
            stroke: #3B82F6;
            stroke-width: 4;
            filter: drop-shadow(0 0 4px rgba(59, 130, 246, 0.6));
        }
        
        .current-marker {
            fill: #3B82F6;
            filter: drop-shadow(0 2px 8px rgba(0,0,0,0.3));
        }
        
        @keyframes pulse-svg {
            0% { opacity: 1; }
            50% { opacity: 0.8; }
            100% { opacity: 1; }
        }
        
        .current-line {
            animation: pulse-svg 2s infinite;
        }
        
        .tooltip {
            position: absolute;
            background-color: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 14px;
            z-index: 1000;
            pointer-events: none;
            max-width: 350px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            opacity: 0;
            transition: opacity 0.3s ease;
            backdrop-filter: blur(4px);
            line-height: 1.5;
        }
        
        .tooltip.show {
            opacity: 1;
        }
        
        .saint-cell {
            cursor: help;
            position: relative;
            transition: color 0.2s ease;
            font-weight: 500;
        }
        
        .saint-cell:hover {
            color: #3B82F6;
        }
        
        .time-segment {
            transition: all 0.3s ease;
        }
        
        .time-segment:hover {
            filter: brightness(1.1);
            transform: translateY(-2px);
        }
        
        .tooltip-title {
            font-weight: 600;
            margin-bottom: 4px;
            color: #f3f4f6;
        }
        
        .tooltip-description {
            color: #e5e7eb;
            font-size: 13px;
        }
        
        .celebration-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            margin-left: 8px;
        }
        
        .badge-solemnidad {
            background-color: #8B5CF6;
            color: white;
        }
        
        .badge-fiesta {
            background-color: #3B82F6;
            color: white;
        }
        
        .badge-memoria {
            background-color: #10B981;
            color: white;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="gradient-bg text-white py-8 px-4 shadow-lg">
        <div class="max-w-7xl mx-auto">
            <h1 class="text-4xl font-bold text-center mb-2">
                <i class="fas fa-cross mr-3"></i>Calendario Lit√∫rgico
            </h1>
            <p class="text-center text-purple-100 text-lg">Viviendo el tiempo de la Iglesia</p>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 py-8">
        <!-- Fecha Actual y Ciclo -->
        <section class="mb-8">
            <div class="bg-white rounded-xl shadow-md p-6">
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="text-center md:text-left">
                        <h2 class="text-2xl font-semibold text-gray-800 mb-2">Hoy es</h2>
                        <div class="flex items-center justify-center md:justify-start">
                            <i class="fas fa-calendar-alt text-3xl text-purple-600 mr-3"></i>
                            <span id="currentDate" class="text-3xl font-bold text-gray-900"></span>
                        </div>
                    </div>
                    <div class="text-center md:text-right">
                        <h2 class="text-2xl font-semibold text-gray-800 mb-2">Ciclo Lit√∫rgico</h2>
                        <div class="cycle-badge inline-block bg-purple-600 text-white px-6 py-3 rounded-full text-xl font-bold">
                            <i class="fas fa-book-open mr-2"></i>
                            <span id="currentCycle"></span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Tiempo Lit√∫rgico Actual -->
        <section class="mb-8">
            <h2 class="text-2xl font-semibold text-gray-800 mb-4">Tiempo Lit√∫rgico Actual</h2>
            <div class="grid md:grid-cols-3 gap-4">
                <div id="currentTimeCard" class="liturgical-card rounded-xl p-6 text-white text-center">
                    <i id="currentTimeIcon" class="fas fa-church text-4xl mb-3"></i>
                    <h3 id="currentTimeName" class="text-2xl font-bold mb-2"></h3>
                    <p id="currentTimeDescription" class="text-sm opacity-90"></p>
                </div>
                
                <div class="bg-white rounded-xl shadow-md p-6">
                    <h3 class="text-lg font-semibold text-gray-800 mb-3">Duraci√≥n</h3>
                    <p id="durationInfo" class="text-gray-600"></p>
                </div>
                
                <div class="bg-white rounded-xl shadow-md p-6">
                    <h3 class="text-lg font-semibold text-gray-800 mb-3">Pr√≥ximo Cambio</h3>
                    <p id="nextChange" class="text-gray-600"></p>
                </div>
            </div>
        </section>

        <!-- L√≠nea de Tiempo de Tiempos Lit√∫rgicos con SVG -->
        <section class="mb-8">
            <h2 class="text-2xl font-semibold text-gray-800 mb-4">Tiempos Lit√∫rgicos del A√±o</h2>
            <div class="timeline-container">
                <svg id="timelineSvg" class="timeline-svg" viewBox="0 0 1000 180" preserveAspectRatio="xMidYMid meet">
                    <!-- Fondo degradado -->
                    <defs>
                        <linearGradient id="bgGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                            <stop offset="0%" style="stop-color:#f9fafb;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#f3f4f6;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                    <rect width="1000" height="180" fill="url(#bgGradient)" />
                    
                    <!-- L√≠nea base -->
                    <line x1="50" y1="90" x2="950" y2="90" stroke="#e5e7eb" stroke-width="4" stroke-linecap="round" />
                    
                    <!-- Segmentos de tiempo -->
                    <g id="timelineSegments"></g>
                    
                    <!-- L√≠nea actual -->
                    <line id="currentLine" class="current-line" x1="0" y1="40" x2="0" y2="140" />
                    
                    <!-- Marcador actual -->
                    <circle id="currentMarker" class="current-marker" cx="0" cy="90" r="10" />
                    
                    <!-- Etiquetas -->
                    <g id="timelineLabels"></g>
                    
                    <!-- Iconos -->
                    <g id="timelineIcons"></g>
                </svg>
            </div>
        </section>

        <!-- Santos del D√≠a y Pr√≥ximos 10 D√≠as -->
        <section class="bg-white rounded-xl shadow-md p-6">
            <h2 class="text-2xl font-semibold text-gray-800 mb-4">
                <i class="fas fa-users mr-2"></i>Pr√≥ximas Celebraciones
            </h2>
            <div class="overflow-x-auto">
                <table class="w-full">
                    <thead>
                        <tr class="border-b-2 border-gray-200">
                            <th class="text-left py-3 px-4 font-semibold text-gray-700">Fecha</th>
                            <th class="text-left py-3 px-4 font-semibold text-gray-700">D√≠a</th>
                            <th class="text-left py-3 px-4 font-semibold text-gray-700">Santo/Celebraci√≥n</th>
                        </tr>
                    </thead>
                    <tbody id="saintsTable">
                        <!-- Las filas se generar√°n din√°micamente con JavaScript -->
                    </tbody>
                </table>
            </div>
        </section>
    </main>

    <footer class="bg-gray-800 text-white py-6 mt-12">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="text-gray-300">Calendario Lit√∫rgico ¬© <span id="year"></span> - Vivamos la fe en comunidad</p>
        </div>
    </footer>

    <!-- Tooltip -->
    <div id="tooltip" class="tooltip">
        <div class="tooltip-title"></div>
        <div class="tooltip-description"></div>
    </div>

    <script>
        // Base de datos de santos y celebraciones (formato MM-DD)
        const santosPorFecha = {
            '01-01': { 
                name: 'Sant√≠sima Virgen Mar√≠a, Madre de Dios', 
                type: 'Solemnidad',
                description: 'Celebraci√≥n de Mar√≠a como Madre de Dios. Es la primera fiesta mariana del a√±o civil y recuerda el Concilio de √âfeso del a√±o 431.'
            },
            '01-02': { 
                name: 'San Basilio Magno y San Gregorio Nacianceno', 
                type: 'Fiesta',
                description: 'Doctores de la Iglesia. San Basilio es conocido por su regla mon√°stica y San Gregorio por sus escritos teol√≥gicos.'
            },
            '01-03': { 
                name: 'Sant√≠simo Nombre de Jes√∫s', 
                type: 'Fiesta',
                description: 'Celebraci√≥n del Santo Nombre de Jes√∫s, que significa "Dios salva". Fiesta instituida para contrarrestar la herej√≠a arriana.'
            },
            '01-04': { 
                name: 'Santa Isabel Ana Seton', 
                type: 'Memoria',
                description: 'Primera santa nativa de Estados Unidos. Fundadora de las Hermanas de la Caridad de San Jos√© y de las escuelas cat√≥licas en EE.UU.'
            },
            '01-05': { 
                name: 'San Juan Neumann', 
                type: 'Memoria',
                description: 'Obispo de Filadelfia. Primer obispo estadounidense canonizado. Fund√≥ el sistema de escuelas parroquiales cat√≥licas.'
            },
            '01-06': { 
                name: 'Epifan√≠a del Se√±or', 
                type: 'Solemnidad',
                description: 'Manifestaci√≥n de Jesucristo a los pueblos gentiles. Celebraci√≥n de la visita de los Reyes Magos al Ni√±o Jes√∫s.'
            },
            '01-07': { 
                name: 'San Raimundo de Pe√±afort', 
                type: 'Memoria',
                description: 'Dominico espa√±ol. Maestro general de la Orden y canonista. Autor de la Summa de casibus conscientiae.'
            },
            '01-09': { 
                name: 'San Antonio Abad', 
                type: 'Memoria',
                description: 'Padre del monacato cristiano. Vivi√≥ como ermita√±o en el desierto de Egipto y es considerado el patr√≥n de los animales.'
            },
            '01-11': { 
                name: 'San Tom√°s de Aquino', 
                type: 'Memoria',
                description: 'Doctor de la Iglesia y te√≥logo medieval. Autor de la Summa Theologiae, una de las obras m√°s importantes de la teolog√≠a cat√≥lica.'
            },
            '01-13': { 
                name: 'San Hilario de Poitiers', 
                type: 'Memoria',
                description: 'Obispo y Doctor de la Iglesia. Defensor de la fe contra el arrianismo. Conocido como "Mart√≠n de los Herejes".'
            },
            '01-17': { 
                name: 'San Antonio Abad', 
                type: 'Memoria',
                description: 'Padre del monacato cristiano. Vivi√≥ como ermita√±o en el desierto de Egipto y es considerado el patr√≥n de los animales.'
            },
            '01-20': { 
                name: 'San Fabi√°n y San Sebasti√°n', 
                type: 'Memoria',
                description: 'San Fabi√°n fue papa y m√°rtir. San Sebasti√°n fue soldado romano y m√°rtir. Ambos son patronos contra la peste.'
            },
            '01-21': { 
                name: 'Santa In√©s', 
                type: 'Memoria',
                description: 'Virgen y m√°rtir romana. Muri√≥ a los 12 a√±os por defender su virginidad. Es una de las santas m√°s veneradas de la Iglesia.'
            },
            '01-22': { 
                name: 'San Vicente', 
                type: 'Memoria',
                description: 'Di√°cono y m√°rtir espa√±ol. Sufri√≥ martirio bajo la persecuci√≥n de Diocleciano. Es patr√≥n de Valencia.'
            },
            '01-24': { 
                name: 'San Francisco de Sales', 
                type: 'Memoria',
                description: 'Obispo de Ginebra y Doctor de la Iglesia. Fundador de la Orden de la Visitaci√≥n. Patrono de los escritores y periodistas.'
            },
            '01-25': { 
                name: 'Conversi√≥n de San Pablo', 
                type: 'Fiesta',
                description: 'Celebraci√≥n de la conversi√≥n de Saulo al cristianismo en el camino a Damasco. Final de la Semana de Oraci√≥n por la Unidad de los Cristianos.'
            },
            '01-26': { 
                name: 'San Timoteo y San Tito', 
                type: 'Memoria',
                description: 'Disc√≠pulos de San Pablo. San Timoteo fue obispo de √âfeso y San Tito de Creta. Ambos son mencionados en las cartas paulinas.'
            },
            '01-27': { 
                name: 'Santa Angela Merici', 
                type: 'Memoria',
                description: 'Fundadora de la Compa√±√≠a de Santa √örsula. Dedic√≥ su vida a la educaci√≥n de las j√≥venes. Es patrona de los enfermos.'
            },
            '01-28': { 
                name: 'Santo Tom√°s de Aquino', 
                type: 'Memoria',
                description: 'Doctor de la Iglesia y te√≥logo medieval. Autor de la Summa Theologiae, una de las obras m√°s importantes de la teolog√≠a cat√≥lica.'
            },
            '01-31': { 
                name: 'San Juan Bosco', 
                type: 'Memoria',
                description: 'Sacerdote italiano, fundador de la Sociedad de San Francisco de Sales (Salesianos). Patrono de la juventud y de los aprendices.'
            },
            '02-02': { 
                name: 'Presentaci√≥n del Se√±or', 
                type: 'Fiesta',
                description: 'Celebraci√≥n de la presentaci√≥n de Jes√∫s en el templo. Tambi√©n conocida como la Candelaria, en la que se bendicen las velas.'
            },
            '02-03': { 
                name: 'San Blas', 
                type: 'Memoria',
                description: 'Obispo y m√°rtir armenio. Seg√∫n la tradici√≥n, salv√≥ a un ni√±o que se atragant√≥ con un hueso de pescado. Es patr√≥n contra las enfermedades de la garganta.'
            },
            '02-05': { 
                name: 'Santa √Ågueda', 
                type: 'Memoria',
                description: 'Virgen y m√°rtir siciliana. Sufri√≥ martirio durante la persecuci√≥n de Decio. Es patrona de las nodrizas y contra las enfermedades del pecho.'
            },
            '02-06': { 
                name: 'San Pablo Miki y compa√±eros', 
                type: 'Memoria',
                description: 'M√°rtires japoneses. San Pablo Miki fue un jesuita japon√©s crucificado en Nagasaki en 1597 junto con 25 compa√±eros.'
            },
            '02-08': { 
                name: 'San Jer√≥nimo Emiliani', 
                type: 'Memoria',
                description: 'Fundador de la Orden de los Cl√©rigos Regulares de Somasca. Dedic√≥ su vida a la educaci√≥n de los hu√©rfanos y los pobres.'
            },
            '02-10': { 
                name: 'Santa Escol√°stica', 
                type: 'Memoria',
                description: 'Hermana gemela de San Benito. Fund√≥ el monasterio de mujeres en Plombariola, siguiendo la regla de su hermano.'
            },
            '02-11': { 
                name: 'Nuestra Se√±ora de Lourdes', 
                type: 'Memoria',
                description: 'Celebraci√≥n de las apariciones de la Virgen Mar√≠a a Santa Bernadette Soubirous en 1858. Es patrona de los enfermos.'
            },
            '02-14': { 
                name: 'San Cirilo y San Metodio', 
                type: 'Memoria',
                description: 'Patrones de Europa. Hermanos que evangelizaron a los pueblos eslavos. Crearon el alfabeto glagol√≠tico, precursor del cir√≠lico.'
            },
            '02-17': { 
                name: 'Siete Santos Fundadores', 
                type: 'Memoria',
                description: 'Fundadores de la Orden de los Siervos de Mar√≠a. Siete florentinos que dedicaron su vida a la penitencia y al servicio de Mar√≠a.'
            },
            '02-21': { 
                name: 'San Pedro Dami√°n', 
                type: 'Memoria',
                description: 'Cardenal y Doctor de la Iglesia. Reformador de la vida mon√°stica. Luch√≥ contra la simon√≠a y el nicola√≠smo.'
            },
            '02-22': { 
                name: 'C√°tedra de San Pedro', 
                type: 'Fiesta',
                description: 'Celebraci√≥n del ministerio de San Pedro como primer Papa y fundamento de la Iglesia. Simboliza la unidad de la Iglesia.'
            },
            '02-23': { 
                name: 'San Policarpo', 
                type: 'Memoria',
                description: 'Obispo de Esmirna y m√°rtir. Disc√≠pulo del ap√≥stol Juan. Fue quemado vivo a los 86 a√±os por negarse a adorar al emperador.'
            },
            '02-27': { 
                name: 'San Gabriel de la Dolorosa', 
                type: 'Memoria',
                description: 'Pasionista italiano. Conocido por su devoci√≥n a la Pasi√≥n de Cristo y por su vida de penitencia. Muri√≥ a los 18 a√±os.'
            },
            '03-01': { 
                name: 'San David', 
                type: 'Memoria',
                description: 'Obispo de Menevia, patr√≥n de Gales. Conocido por su vida de oraci√≥n y penitencia. Fund√≥ doce monasterios.'
            },
            '03-07': { 
                name: 'Santas Perpetua y Felicidad', 
                type: 'Memoria',
                description: 'M√°rtires cartaginesas. Perpetua era una noble madre y Felicidad su esclava embarazada. Murieron en el anfiteatro de Cartago.'
            },
            '03-17': { 
                name: 'San Patricio', 
                type: 'Fiesta',
                description: 'Obispo y misionero en Irlanda. Conocido por haber expulsado las serpientes de Irlanda y por usar el tr√©bol para explicar la Trinidad.'
            },
            '03-19': { 
                name: 'San Jos√©', 
                type: 'Solemnidad',
                description: 'Esposo de la Virgen Mar√≠a y padre adoptivo de Jes√∫s. Patrono de la Iglesia universal, de los trabajadores y de una muerte feliz.'
            },
            '03-25': { 
                name: 'Anunciaci√≥n del Se√±or', 
                type: 'Solemnidad',
                description: 'Celebraci√≥n del anuncio del √°ngel Gabriel a Mar√≠a sobre la encarnaci√≥n del Hijo de Dios. Inicio de la redenci√≥n humana.'
            },
            '04-04': { 
                name: 'San Isidoro de Sevilla', 
                type: 'Memoria',
                description: 'Doctor de la Iglesia. Arzobispo de Sevilla, erudito y enciclopedista. Autor de las Etimolog√≠as, primera enciclopedia medieval.'
            },
            '04-11': { 
                name: 'San Estanislao', 
                type: 'Memoria',
                description: 'Obispo de Cracovia y m√°rtir. Defendi√≥ la independencia de Polonia contra el rey Boleslao. Es patrono de Polonia.'
            },
            '04-23': { 
                name: 'San Jorge', 
                type: 'Memoria',
                description: 'M√°rtir y soldado romano. Famoso por la leyenda de matar al drag√≥n. Patrono de Inglaterra, Portugal y Catalu√±a.'
            },
            '04-25': { 
                name: 'San Marcos', 
                type: 'Fiesta',
                description: 'Evangelista y autor del segundo Evangelio. Compa√±ero de San Pedro y San Pablo. Patrono de Venecia.'
            },
            '05-01': { 
                name: 'San Jos√© Obrero', 
                type: 'Fiesta',
                description: 'Celebraci√≥n de San Jos√© como trabajador. Instituida por el Papa P√≠o XII para destacar la dignidad del trabajo humano.'
            },
            '05-03': { 
                name: 'Santos Felipe y Santiago', 
                type: 'Fiesta',
                description: 'Ap√≥stoles. Felipe fue crucificado cabeza abajo y Santiago fue decapitado. Primer obispo de Jerusal√©n.'
            },
            '05-10': { 
                name: 'San Juan de √Åvila', 
                type: 'Memoria',
                description: 'Doctor de la Iglesia. Sacerdote y m√≠stico espa√±ol. Conocido como el "Ap√≥stol de Andaluc√≠a" y maestro de Santa Teresa.'
            },
            '05-14': { 
                name: 'San Mat√≠as', 
                type: 'Fiesta',
                description: 'Ap√≥stol elegido para reemplazar a Judas. Predic√≥ en Etiop√≠a y sufri√≥ martirio. Es patrono de los carpinteros.'
            },
            '05-31': { 
                name: 'Visitaci√≥n de la Virgen Mar√≠a', 
                type: 'Fiesta',
                description: 'Celebraci√≥n de la visita de Mar√≠a a su prima Isabel. Mar√≠a proclama el Magnificat y Juan salta en el vientre de Isabel.'
            },
            '06-11': { 
                name: 'San Bernab√©', 
                type: 'Memoria',
                description: 'Ap√≥stol y compa√±ero de San Pablo. Levita de Chipre que present√≥ a Pablo a los ap√≥stoles. Patrono de Chipre.'
            },
            '06-13': { 
                name: 'San Antonio de Padua', 
                type: 'Memoria',
                description: 'Doctor de la Iglesia. Franciscano portugu√©s conocido por sus milagros y sermones. Patrono de los objetos perdidos.'
            },
            '06-24': { 
                name: 'Nacimiento de San Juan Bautista', 
                type: 'Solemnidad',
                description: 'Celebraci√≥n del nacimiento del precursor de Jes√∫s. √önico santo cuyo nacimiento se celebra adem√°s de su muerte.'
            },
            '06-29': { 
                name: 'San Pedro y San Pablo', 
                type: 'Solemnidad',
                description: 'Pr√≠ncipes de los ap√≥stoles. Pedro primer Papa y Pablo ap√≥stol de los gentiles. Columnas de la Iglesia.'
            },
            '07-03': { 
                name: 'Santo Tom√°s', 
                type: 'Fiesta',
                description: 'Ap√≥stol conocido como "D√≠dimo". Predic√≥ en India y fue martirizado. Patrono de la India y de los arquitectos.'
            },
            '07-22': { 
                name: 'Santa Mar√≠a Magdalena', 
                type: 'Fiesta',
                description: 'Disc√≠pula de Jes√∫s y primera testigo de la resurrecci√≥n. "Ap√≥stol de los ap√≥stoles". Patrona de la vida contemplativa.'
            },
            '07-25': { 
                name: 'Santiago Ap√≥stol', 
                type: 'Fiesta',
                description: 'Hijo del Zebedeo y hermano de Juan. Primer m√°rtir entre los ap√≥stoles. Patrono de Espa√±a y Compostela.'
            },
            '07-26': { 
                name: 'San Joaqu√≠n y Santa Ana', 
                type: 'Memoria',
                description: 'Padres de la Virgen Mar√≠a. Abuelos de Jes√∫s seg√∫n la tradici√≥n. Patronos de los abuelos y las familias.'
            },
            '08-01': { 
                name: 'San Alfonso Mar√≠a de Ligorio', 
                type: 'Memoria',
                description: 'Doctor de la Iglesia. Fundador de los Redentoristas. Obispo y te√≥logo moral. Patrono de los confesores y moralistas.'
            },
            '08-04': { 
                name: 'San Juan Mar√≠a Vianney', 
                type: 'Memoria',
                description: 'Cura de Ars y patrono de los p√°rrocos. Conocido por su vida de penitencia y su ministerio confesional.'
            },
            '08-06': { 
                name: 'Transfiguraci√≥n del Se√±or', 
                type: 'Fiesta',
                description: 'Celebraci√≥n de la manifestaci√≥n de la gloria de Cristo en el Tabor. Jes√∫s aparece con Mois√©s y El√≠as.'
            },
            '08-08': { 
                name: 'Santo Domingo de Guzm√°n', 
                type: 'Memoria',
                description: 'Fundador de la Orden de Predicadores (Dominicos). Luch√≥ contra la herej√≠a albigense. Patrono de los astr√≥nomos.'
            },
            '08-10': { 
                name: 'San Lorenzo', 
                type: 'Fiesta',
                description: 'Di√°cono y m√°rtir romano. Fue asado en una parrilla. Patrono de los cocineros, bibliotecarios y pobres.'
            },
            '08-15': { 
                name: 'Asunci√≥n de la Virgen Mar√≠a', 
                type: 'Solemnidad',
                description: 'Celebraci√≥n de la entrada de Mar√≠a en cuerpo y alma al cielo. Dogma definido por P√≠o XII en 1950.'
            },
            '08-20': { 
                name: 'San Bernardo', 
                type: 'Memoria',
                description: 'Abad cisterciense y Doctor de la Iglesia. Predic√≥ la Segunda Cruzada y defendi√≥ la Inmaculada Concepci√≥n.'
            },
            '08-24': { 
                name: 'San Bartolom√©', 
                type: 'Fiesta',
                description: 'Ap√≥stol que seg√∫n la tradici√≥n fue desollado vivo. Patrono de los curtidores, carniceros y libreros.'
            },
            '08-27': { 
                name: 'Santa M√≥nica', 
                type: 'Memoria',
                description: 'Madre de San Agust√≠n. Por sus oraciones y l√°grimas convirti√≥ a su hijo. Patrona de las madres cristianas.'
            },
            '08-28': { 
                name: 'San Agust√≠n', 
                type: 'Memoria',
                description: 'Doctor de la Iglesia y obispo de Hipona. Autor de las Confesiones y La Ciudad de Dios. Patrono de los te√≥logos.'
            },
            '09-01': { 
                name: 'San Gil', 
                type: 'Memoria',
                description: 'Eremita y abad. Vivi√≥ en el bosque y fue protegido por un ciervo. Patrono de los arqueros y fabricantes de agujas.'
            },
            '09-09': { 
                name: 'San Pedro Claver', 
                type: 'Memoria',
                description: 'Jesuita espa√±ol conocido como "Esclavo de los esclavos". Misionero en Cartagena de Indias. Patrono de los derechos humanos.'
            },
            '09-12': { 
                name: 'Sant√≠simo Nombre de Mar√≠a', 
                type: 'Memoria',
                description: 'Celebraci√≥n del nombre de Mar√≠a y su poder en la Iglesia. Fiesta instituida para contrarrestar la herej√≠a turca.'
            },
            '09-14': { 
                name: 'Exaltaci√≥n de la Santa Cruz', 
                type: 'Fiesta',
                description: 'Celebraci√≥n del hallazgo de la verdadera cruz por Santa Elena. S√≠mbolo de la redenci√≥n y triunfo de Cristo.'
            },
            '09-15': { 
                name: 'Nuestra Se√±ora de los Dolores', 
                type: 'Memoria',
                description: 'Celebraci√≥n de los siete dolores de Mar√≠a. Compa√±era de Cristo en su pasi√≥n. Patrona de los dolientes.'
            },
            '09-17': { 
                name: 'San Roberto Belarmino', 
                type: 'Memoria',
                description: 'Cardenal y Doctor de la Iglesia. Defensor de la autoridad papada contra los protestantes. Gran te√≥logo y catequista.'
            },
            '09-20': { 
                name: 'San Andr√©s Kim y compa√±eros', 
                type: 'Memoria',
                description: 'M√°rtires coreanos. Primeros santos canonizados de Corea. Persecuci√≥n durante el siglo XIX.'
            },
            '09-21': { 
                name: 'San Mateo', 
                type: 'Fiesta',
                description: 'Evangelista y autor del primer Evangelio. Publicano llamado por Jes√∫s. Patrono de los banqueros y contadores.'
            },
            '09-27': { 
                name: 'San Vicente de Pa√∫l', 
                type: 'Memoria',
                description: 'Fundador de la Congregaci√≥n de la Misi√≥n y las Hijas de la Caridad. Patrono de las obras de caridad.'
            },
            '09-28': { 
                name: 'San Wenceslao', 
                type: 'Memoria',
                description: 'Duque de Bohemia y m√°rtir. Conocido por su caridad con los pobres. Patrono de la Rep√∫blica Checa.'
            },
            '09-29': { 
                name: 'San Miguel, San Gabriel y San Rafael', 
                type: 'Fiesta',
                description: 'Arc√°ngeles principales. Miguel defensor del pueblo de Israel, Gabriel mensajero de la Encarnaci√≥n, Rafael gu√≠a de Tob√≠as.'
            },
            '10-01': { 
                name: 'Santa Teresa del Ni√±o Jes√∫s', 
                type: 'Memoria',
                description: 'Doctora de la Iglesia y carmelita descalza. Conocida por su "peque√±a v√≠a" de infancia espiritual. Patrona de las misiones.'
            },
            '10-02': { 
                name: 'Santos √Ångeles Custodios', 
                type: 'Memoria',
                description: 'Celebraci√≥n de los √°ngeles que nos protegen y gu√≠an. Cada persona tiene un √°ngel de la guarda.'
            },
            '10-04': { 
                name: 'San Francisco de As√≠s', 
                type: 'Memoria',
                description: 'Fundador de la Orden Franciscana. Vivi√≥ en pobreza absoluta y amor a la creaci√≥n. Patrono de Italia y ecolog√≠a.'
            },
            '10-06': { 
                name: 'San Bruno', 
                type: 'Memoria',
                description: 'Fundador de la Orden Cartuja. Ermita√±o y consejero del Papa Urbano II. Patrono de los posesos.'
            },
            '10-07': { 
                name: 'Nuestra Se√±ora del Rosario', 
                type: 'Memoria',
                description: 'Celebraci√≥n establecida por P√≠o V tras la victoria de Lepanto. Mar√≠a como intercesora por la victoria del cristianismo.'
            },
            '10-09': { 
                name: 'San Juan Leonardi', 
                type: 'Memoria',
                description: 'Fundador de la Orden de Cl√©rigos Regulares de la Madre de Dios. Trabaj√≥ por la formaci√≥n de j√≥venes y sacerdotes.'
            },
            '10-11': { 
                name: 'San Juan XXIII', 
                type: 'Memoria',
                description: 'Papa que convoc√≥ el Concilio Vaticano II. Conocido como "Papa Bueno". Autor de "Diario de un alma".'
            },
            '10-14': { 
                name: 'San Calixto I', 
                type: 'Memoria',
                description: 'Papa y m√°rtir. Enterrado en el cementerio de Calixto. Patrono de los cementerios cat√≥licos.'
            },
            '10-15': { 
                name: 'Santa Teresa de √Åvila', 
                type: 'Fiesta',
                description: 'Doctora de la Iglesia y reformadora del Carmelo. M√≠stica y escritora. Primera mujer doctora de la Iglesia.'
            },
            '10-16': { 
                name: 'Santa Margarita Mar√≠a Alacoque', 
                type: 'Memoria',
                description: 'Monja visitaci√≥n a quien Jes√∫s revel√≥ la devoci√≥n al Sagrado Coraz√≥n. Promulg√≥ la fiesta del Coraz√≥n de Jes√∫s.'
            },
            '10-17': { 
                name: 'San Ignacio de Antioqu√≠a', 
                type: 'Memoria',
                description: 'Obispo y m√°rtir. Disc√≠pulo de San Juan. Llevado a Roma para ser devorado por las fieras. Escribi√≥ cartas a las iglesias.'
            },
            '10-18': { 
                name: 'San Lucas', 
                type: 'Fiesta',
                description: 'Evangelista y m√©dico. Autor del tercer Evangelio y Hechos de los Ap√≥stoles. Compa√±ero de San Pablo.'
            },
            '10-19': { 
                name: 'San Pablo de la Cruz', 
                type: 'Memoria',
                description: 'Fundador de los Pasionistas. Predic√≥ la devoci√≥n a la Pasi√≥n de Cristo. Experiment√≥ √©xtasis y visiones.'
            },
            '10-22': { 
                name: 'San Juan Pablo II', 
                type: 'Memoria',
                description: 'Papa polaco y uno de los m√°s longevos. Gran viajero y comunicador. Canoniz√≥ m√°s santos que ning√∫n otro papa.'
            },
            '10-23': { 
                name: 'San Juan Capistrano', 
                type: 'Memoria',
                description: 'Franciscano y predicador. Luch√≥ contra los turcos en Belgrado. Patrono de los capellanes militares.'
            },
            '10-24': { 
                name: 'San Antonio Mar√≠a Claret', 
                type: 'Memoria',
                description: 'Fundador de los Misioneros Hijos del Inmaculado Coraz√≥n de Mar√≠a. Arzobispo de Cuba y confesor de la reina Isabel II.'
            },
            '10-28': { 
                name: 'San Sim√≥n y San Judas', 
                type: 'Fiesta',
                description: 'Ap√≥stoles. Sim√≥n el Zelote y Judas Tadeo. Predicaron en Persia y sufrieron martirio. Patronos de los casos dif√≠ciles.'
            },
            '11-01': { 
                name: 'Todos los Santos', 
                type: 'Solemnidad',
                description: 'Celebraci√≥n de todos los santos conocidos y desconocidos. Fiesta de la universal llamada a la santidad.'
            },
            '11-02': { 
                name: 'Conmemoraci√≥n de los Fieles Difuntos', 
                type: 'Memoria',
                description: 'D√≠a de oraci√≥n por las almas del purgatorio. La Iglesia recomienda misas, limosnas y sufragios por los difuntos.'
            },
            '11-03': { 
                name: 'San Mart√≠n de Porres', 
                type: 'Memoria',
                description: 'Dominico peruano conocido por su caridad con los pobres. Mulato de madre negra y padre espa√±ol. Patrono de la justicia social.'
            },
            '11-04': { 
                name: 'San Carlos Borromeo', 
                type: 'Memoria',
                description: 'Cardenal y arzobispo de Mil√°n. Reformador de la Iglesia seg√∫n el Concilio de Trento. Patrono de los catequistas.'
            },
            '11-09': { 
                name: 'Dedicaci√≥n de la Bas√≠lica de Letr√°n', 
                type: 'Fiesta',
                description: 'Catedral de Roma como "madre y cabeza de todas las iglesias del mundo". S√≠mbolo de la unidad cat√≥lica.'
            },
            '11-10': { 
                name: 'San Le√≥n Magno', 
                type: 'Memoria',
                description: 'Papa y Doctor de la Iglesia. Detuvo a Atila con su persuasi√≥n. Defendi√≥ la unidad de la fe contra las herej√≠as.'
            },
            '11-11': { 
                name: 'San Mart√≠n de Tours', 
                type: 'Memoria',
                description: 'Obispo y soldado romano. Famoso por compartir su capa con un pobre. Patrono de Francia y los soldados.'
            },
            '11-12': { 
                name: 'San Josafat', 
                type: 'Memoria',
                description: 'Arzobispo de Polotsk y m√°rtir. Trabaj√≥ por la uni√≥n de la Iglesia ortodoxa con Roma. Patrono de la unidad cristiana.'
            },
            '11-15': { 
                name: 'San Alberto Magno', 
                type: 'Memoria',
                description: 'Doctor de la Iglesia y maestro de Santo Tom√°s. Dominico y fil√≥sofo. Patrono de los cient√≠ficos y estudiantes.'
            },
            '11-16': { 
                name: 'Santa Margarita de Escocia', 
                type: 'Memoria',
                description: 'Reina de Escocia y esposa del rey Malcolm III. Madre de ocho hijos. Patrona de las grandes familias y de la muerte feliz.'
            },
            '11-17': { 
                name: 'Santa Isabel de Hungr√≠a', 
                type: 'Memoria',
                description: 'Princesa de Hungr√≠a y esposa de Luis de Turingia. Construy√≥ hospitales y cuid√≥ enfermos. Patrona de la Tercera Orden Franciscana.'
            },
            '11-18': { 
                name: 'Dedicaci√≥n de las Bas√≠licas de San Pedro y San Pablo', 
                type: 'Memoria',
                description: 'Celebraci√≥n de las bas√≠licas papales dedicadas a los pr√≠ncipes de los ap√≥stoles. S√≠mbolos de la unidad de la fe.'
            },
            '11-21': { 
                name: 'Presentaci√≥n de la Virgen Mar√≠a', 
                type: 'Memoria',
                description: 'Celebraci√≥n de la dedicaci√≥n de Mar√≠a a Dios desde su infancia. Seg√∫n la tradici√≥n, fue llevada al templo a los 3 a√±os.'
            },
            '11-22': { 
                name: 'Santa Cecilia', 
                type: 'Memoria',
                description: 'Virgen y m√°rtir romana. Patrona de la m√∫sica y los m√∫sicos. Seg√∫n la leyenda, cantaba en su coraz√≥n durante su martirio.'
            },
            '11-23': { 
                name: 'San Clemente I', 
                type: 'Memoria',
                description: 'Papa y m√°rtir. Tercer sucesor de San Pedro. Escribi√≥ una carta a los corintios. Muri√≥ ahogado en el mar Negro.'
            },
            '11-24': { 
                name: 'San Andr√©s Dung-Lac y compa√±eros', 
                type: 'Memoria',
                description: 'M√°rtires de Vietnam. Persecuci√≥n del siglo XIX. San Andr√©s fue sacerdote y sus compa√±eros laicos.'
            },
            '11-25': { 
                name: 'Santa Catalina de Alejandr√≠a', 
                type: 'Memoria',
                description: 'Virgen y m√°rtir. Princesa sabia que defendi√≥ la fe. Patrona de los fil√≥sofos, estudiantes y doncellas.'
            },
            '11-30': { 
                name: 'San Andr√©s', 
                type: 'Fiesta',
                description: 'Ap√≥stol y hermano de Pedro. Pescador llamado por Jes√∫s. Predic√≥ en Grecia y fue crucificado en cruz en forma de X.'
            },
            '12-03': { 
                name: 'San Francisco Javier', 
                type: 'Memoria',
                description: 'Misionero jesuita en Oriente. Bautiz√≥ a miles de personas en India y Jap√≥n. Patrono de las misiones extranjeras.'
            },
            '12-04': { 
                name: 'San Juan Damasceno', 
                type: 'Memoria',
                description: 'Doctor de la Iglesia. Monje y te√≥logo. Defendi√≥ el culto a las im√°genes contra los iconoclastas.'
            },
            '12-06': { 
                name: 'San Nicol√°s', 
                type: 'Memoria',
                description: 'Obispo de Mira. Conocido por su generosidad con los pobres. Origen de la figura de Santa Claus. Patrono de los ni√±os.'
            },
            '12-07': { 
                name: 'San Ambrosio', 
                type: 'Memoria',
                description: 'Doctor de la Iglesia y obispo de Mil√°n. Bautiz√≥ a San Agust√≠n. Defendi√≥ la fe contra los arrianos.'
            },
            '12-08': { 
                name: 'Inmaculada Concepci√≥n de la Virgen Mar√≠a', 
                type: 'Solemnidad',
                description: 'Dogma que afirma que Mar√≠a fue preservada del pecado original desde su concepci√≥n. Patrona de Estados Unidos, Espa√±a y Filipinas.'
            },
            '12-09': { 
                name: 'San Juan Diego', 
                type: 'Memoria',
                description: 'Vidente de la Virgen de Guadalupe. Indio mexicano a quien se apareci√≥ Mar√≠a en el Tepeyac. Patrono de los ind√≠genas.'
            },
            '12-10': { 
                name: 'Santa Eulalia', 
                type: 'Memoria',
                description: 'Virgen y m√°rtir de Barcelona. De 13 a√±os, sufri√≥ martirio por defender su fe. Patrona de Barcelona.'
            },
            '12-11': { 
                name: 'San D√°maso I', 
                type: 'Memoria',
                description: 'Papa que combati√≥ la herej√≠a arriana. Encarg√≥ a San Jer√≥nimo la traducci√≥n de la Biblia al lat√≠n (Vulgata).'
            },
            '12-12': { 
                name: 'Nuestra Se√±ora de Guadalupe', 
                type: 'Memoria',
                description: 'Aparici√≥n de la Virgen Mar√≠a a San Juan Diego en M√©xico. Patrona de Am√©rica y emperatriz de Latinoam√©rica.'
            },
            '12-13': { 
                name: 'Santa Luc√≠a', 
                type: 'Memoria',
                description: 'Virgen y m√°rtir de Siracusa. Proteg√≠a su virginidad hasta la muerte. Patrona de la vista y los oftalm√≥logos.'
            },
            '12-14': { 
                name: 'San Juan de la Cruz', 
                type: 'Memoria',
                description: 'Doctor de la Iglesia y reformador del Carmelo. M√≠stico y poeta. Autor de "Noche oscura del alma".'
            },
            '12-20': { 
                name: 'San Pedro Canisio', 
                type: 'Memoria',
                description: 'Doctor de la Iglesia y jesuita. Luch√≥ contra la reforma protestante en Alemania. Autor del Catecismo Mayor.'
            },
            '12-21': { 
                name: 'San Pedro Canisio', 
                type: 'Memoria',
                description: 'Doctor de la Iglesia y jesuita. Luch√≥ contra la reforma protestante en Alemania. Autor del Catecismo Mayor.'
            },
            '12-26': { 
                name: 'San Esteban', 
                type: 'Fiesta',
                description: 'Primer m√°rtir de la Iglesia. Di√°cono apedreado por predicar a Cristo. Patrono de los di√°conos y canteros.'
            },
            '12-27': { 
                name: 'San Juan', 
                type: 'Fiesta',
                description: 'Ap√≥stol y evangelista. "El disc√≠pulo amado". Autor del cuarto Evangelio. Patrono de los te√≥logos y escritores.'
            },
            '12-28': { 
                name: 'Santos Inocentes', 
                type: 'Fiesta',
                description: 'Ni√±os martirizados por Herodes en Bel√©n. Primera manifestaci√≥n del odio del mundo contra Cristo y su Iglesia.'
            },
            '12-29': { 
                name: 'Santo Tom√°s Becket', 
                type: 'Memoria',
                description: 'Arzobispo de Canterbury y m√°rtir. Asesinado en la catedral por defender la libertad de la Iglesia contra el rey Enrique II.'
            },
            '12-30': { 
                name: 'La Sagrada Familia', 
                type: 'Fiesta',
                description: 'Celebraci√≥n de Jes√∫s, Mar√≠a y Jos√© en Nazaret. Modelo para todas las familias cristianas.'
            },
            '12-31': { 
                name: 'San Silvestre I', 
                type: 'Memoria',
                description: 'Papa durante la paz constantiniana. Presidi√≥ el Concilio de Nicea. Construy√≥ las primeras bas√≠licas cristianas.'
            }
        };

        // Tiempos lit√∫rgicos con sus fechas aproximadas
        const liturgicalTimes = [
            {
                name: 'Adviento',
                description: 'Tiempo de preparaci√≥n para la venida del Se√±or',
                icon: 'fa-star',
                color: '#6B46C1',
                duration: '4 semanas',
                nextChange: 'Navidad - 25 de diciembre',
                startDay: 335,
                endDay: 359,
                iconSymbol: '‚≠ê'
            },
            {
                name: 'Navidad',
                description: 'Celebraci√≥n del nacimiento de Jesucristo',
                icon: 'fa-gift',
                color: '#FFFFFF',
                duration: 'Hasta el Bautismo del Se√±or',
                nextChange: 'Tiempo Ordinario - Enero',
                startDay: 359,
                endDay: 14,
                iconSymbol: 'üéÅ'
            },
            {
                name: 'Tiempo Ordinario I',
                description: 'Tiempo de crecimiento en la fe',
                icon: 'fa-leaf',
                color: '#10B981',
                duration: 'Hasta Mi√©rcoles de Ceniza',
                nextChange: 'Cuaresma - Febrero',
                startDay: 14,
                endDay: 45,
                iconSymbol: 'üåø'
            },
            {
                name: 'Cuaresma',
                description: 'Tiempo de penitencia y preparaci√≥n para la Pascua',
                icon: 'fa-pray',
                color: '#6B46C1',
                duration: '40 d√≠as',
                nextChange: 'Pascua - Marzo/Abril',
                startDay: 45,
                endDay: 85,
                iconSymbol: 'üôè'
            },
            {
                name: 'Pascua',
                description: 'Celebraci√≥n de la Resurrecci√≥n del Se√±or',
                icon: 'fa-dove',
                color: '#FFFFFF',
                duration: '50 d√≠as',
                nextChange: 'Pentecost√©s - Mayo',
                startDay: 85,
                endDay: 135,
                iconSymbol: 'üïäÔ∏è'
            },
            {
                name: 'Pentecost√©s',
                description: 'Venida del Esp√≠ritu Santo',
                icon: 'fa-fire',
                color: '#DC2626',
                duration: '1 d√≠a',
                nextChange: 'Tiempo Ordinario - Mayo',
                startDay: 135,
                endDay: 136,
                iconSymbol: 'üî•'
            },
            {
                name: 'Tiempo Ordinario II',
                description: 'Tiempo de crecimiento en la fe',
                icon: 'fa-leaf',
                color: '#10B981',
                duration: 'Hasta Adviento',
                nextChange: 'Adviento - Diciembre',
                startDay: 136,
                endDay: 335,
                iconSymbol: 'üåø'
            }
        ];

        // Funci√≥n para obtener el tiempo lit√∫rgico actual
        function getCurrentLiturgicalTime() {
            const dayOfYear = getDayOfYear(new Date());
            
            for (const time of liturgicalTimes) {
                if (dayOfYear >= time.startDay && dayOfYear < time.endDay) {
                    return time;
                }
            }
            
            // Si no coincide, retornar tiempo ordinario
            return liturgicalTimes[6]; // Tiempo Ordinario II
        }

        // Funci√≥n para obtener el d√≠a del a√±o (1-365/366)
        function getDayOfYear(date) {
            const start = new Date(date.getFullYear(), 0, 0);
            const diff = date - start;
            const oneDay = 1000 * 60 * 60 * 24;
            return Math.floor(diff / oneDay);
        }

        // Funci√≥n para obtener el ciclo lit√∫rgico
        function getLiturgicalCycle() {
            const year = new Date().getFullYear();
            const cycle = ['A', 'B', 'C'][year % 3];
            return `Ciclo ${cycle}`;
        }

        // Funci√≥n para formatear fecha
        function formatDate(date) {
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            return date.toLocaleDateString('es-ES', options);
        }

        // Funci√≥n para dibujar la l√≠nea de tiempo SVG
        function drawTimeline() {
            const svg = document.getElementById('timelineSvg');
            const segmentsGroup = document.getElementById('timelineSegments');
            const labelsGroup = document.getElementById('timelineLabels');
            const iconsGroup = document.getElementById('timelineIcons');
            const currentLine = document.getElementById('currentLine');
            const currentMarker = document.getElementById('currentMarker');
            
            // Limpiar grupos
            segmentsGroup.innerHTML = '';
            labelsGroup.innerHTML = '';
            iconsGroup.innerHTML = '';
            
            const svgWidth = 1000;
            const svgHeight = 180;
            const barHeight = 40;
            const barY = 70;
            const margin = 50;
            const timelineWidth = svgWidth - 2 * margin;
            
            // Dibujar segmentos
            let x = margin;
            
            liturgicalTimes.forEach((time, index) => {
                // Calcular duraci√≥n y posici√≥n
                let duration;
                if (time.startDay < time.endDay) {
                    duration = time.endDay - time.startDay;
                } else {
                    // Caso especial para Navidad (cruza el a√±o)
                    if (time.name === 'Navidad') {
                        duration = (365 - time.startDay) + time.endDay;
                    } else {
                        duration = time.endDay - time.startDay;
                    }
                }
                
                const width = (duration / 365) * timelineWidth;
                
                // Dibujar rect√°ngulo
                const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                rect.setAttribute('x', x);
                rect.setAttribute('y', barY);
                rect.setAttribute('width', width);
                rect.setAttribute('height', barHeight);
                rect.setAttribute('fill', time.color);
                rect.setAttribute('stroke', '#E5E7EB');
                rect.setAttribute('stroke-width', '2');
                rect.setAttribute('rx', '8');
                rect.setAttribute('class', 'time-segment');
                segmentsGroup.appendChild(rect);
                
                // A√±adir borde adicional para colores claros
                if (time.color === '#FFFFFF') {
                    const borderRect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
                    borderRect.setAttribute('x', x);
                    borderRect.setAttribute('y', barY);
                    borderRect.setAttribute('width', width);
                    borderRect.setAttribute('height', barHeight);
                    borderRect.setAttribute('fill', 'none');
                    borderRect.setAttribute('stroke', '#9CA3AF');
                    borderRect.setAttribute('stroke-width', '2');
                    borderRect.setAttribute('rx', '8');
                    segmentsGroup.appendChild(borderRect);
                }
                
                // A√±adir icono
                const iconText = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                iconText.setAttribute('x', x + width / 2);
                iconText.setAttribute('y', barY + barHeight / 2 + 5);
                iconText.setAttribute('class', 'timeline-label');
                iconText.setAttribute('text-anchor', 'middle');
                iconText.setAttribute('font-size', '20');
                iconText.textContent = time.iconSymbol;
                iconsGroup.appendChild(iconText);
                
                // A√±adir etiqueta
                const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                text.setAttribute('x', x + width / 2);
                text.setAttribute('y', barY + barHeight + 25);
                text.setAttribute('class', 'timeline-label');
                text.setAttribute('text-anchor', 'middle');
                text.textContent = time.name;
                labelsGroup.appendChild(text);
                
                x += width;
            });
            
            // Posicionar l√≠nea actual
            const dayOfYear = getDayOfYear(new Date());
            let currentX;
            
            // Calcular posici√≥n actual
            if (dayOfYear >= 335) { // Adviento
                currentX = margin + ((dayOfYear - 335) / 365) * timelineWidth;
            } else if (dayOfYear <= 14) { // Navidad
                const navidadDuration = (365 - 335) + 14;
                const navidadPosition = (365 - 335) + dayOfYear;
                currentX = margin + (navidadPosition / 365) * timelineWidth;
            } else if (dayOfYear <= 45) { // Tiempo Ordinario I
                const prevDuration = (365 - 335) + 14;
                currentX = margin + ((prevDuration + (dayOfYear - 14)) / 365) * timelineWidth;
            } else if (dayOfYear <= 85) { // Cuaresma
                const prevDuration = (365 - 335) + 14 + (45 - 14);
                currentX = margin + ((prevDuration + (dayOfYear - 45)) / 365) * timelineWidth;
            } else if (dayOfYear <= 135) { // Pascua
                const prevDuration = (365 - 335) + 14 + (45 - 14) + (85 - 45);
                currentX = margin + ((prevDuration + (dayOfYear - 85)) / 365) * timelineWidth;
            } else if (dayOfYear <= 136) { // Pentecost√©s
                const prevDuration = (365 - 335) + 14 + (45 - 14) + (85 - 45) + (135 - 85);
                currentX = margin + ((prevDuration + (dayOfYear - 135)) / 365) * timelineWidth;
            } else { // Tiempo Ordinario II
                const prevDuration = (365 - 335) + 14 + (45 - 14) + (85 - 45) + (135 - 85) + 1;
                currentX = margin + ((prevDuration + (dayOfYear - 136)) / 365) * timelineWidth;
            }
            
            currentLine.setAttribute('x1', currentX);
            currentLine.setAttribute('x2', currentX);
            
            currentMarker.setAttribute('cx', currentX);
            currentMarker.setAttribute('cy', barY + barHeight / 2);
        }

        // Funci√≥n para mostrar el tooltip
        function showTooltip(event, saint) {
            const tooltip = document.getElementById('tooltip');
            const titleElement = tooltip.querySelector('.tooltip-title');
            const descriptionElement = tooltip.querySelector('.tooltip-description');
            
            titleElement.textContent = saint.name;
            descriptionElement.textContent = saint.description;
            
            tooltip.classList.add('show');
            
            // Posicionar el tooltip
            const x = event.pageX;
            const y = event.pageY;
            
            // Ajustar posici√≥n si se sale de la pantalla
            const tooltipRect = tooltip.getBoundingClientRect();
            const windowWidth = window.innerWidth;
            
            if (x + tooltipRect.width + 20 > windowWidth) {
                tooltip.style.left = (x - tooltipRect.width - 20) + 'px';
            } else {
                tooltip.style.left = (x + 20) + 'px';
            }
            
            tooltip.style.top = (y - 10) + 'px';
        }

        // Funci√≥n para ocultar el tooltip
        function hideTooltip() {
            const tooltip = document.getElementById('tooltip');
            tooltip.classList.remove('show');
        }

        // Inicializar la p√°gina
        function initializePage() {
            // Fecha actual
            const currentDate = new Date();
            document.getElementById('currentDate').textContent = formatDate(currentDate);
            
            // Ciclo lit√∫rgico
            document.getElementById('currentCycle').textContent = getLiturgicalCycle();
            
            // Tiempo lit√∫rgico actual
            const currentTime = getCurrentLiturgicalTime();
            const currentTimeCard = document.getElementById('currentTimeCard');
            currentTimeCard.style.backgroundColor = currentTime.color;
            currentTimeCard.style.color = currentTime.color === '#FFFFFF' ? '#1F2937' : 'white';
            
            document.getElementById('currentTimeIcon').className = `fas ${currentTime.icon} text-4xl mb-3`;
            document.getElementById('currentTimeName').textContent = currentTime.name;
            document.getElementById('currentTimeDescription').textContent = currentTime.description;
            document.getElementById('durationInfo').textContent = currentTime.duration;
            document.getElementById('nextChange').textContent = currentTime.nextChange;
            
            // Dibujar l√≠nea de tiempo
            drawTimeline();
            
            // Generar tabla de santos
            generateSaintsTable();
            
            // A√±o en el footer
            document.getElementById('year').textContent = currentDate.getFullYear();
        }

        // Generar tabla de santos - Modificada para saltar d√≠as ordinarios
        function generateSaintsTable() {
            const tbody = document.getElementById('saintsTable');
            tbody.innerHTML = ''; // Limpiar tabla
            const today = new Date();
            
            let celebrationsFound = 0;
            let daysToCheck = 0;
            const maxCelebrations = 10;
            const maxDaysToCheck = 100; // L√≠mite para evitar bucle infinito
            
            while (celebrationsFound < maxCelebrations && daysToCheck < maxDaysToCheck) {
                const date = new Date(today);
                date.setDate(today.getDate() + daysToCheck);
                
                // Formatear fecha como MM-DD
                const month = String(date.getMonth() + 1).padStart(2, '0');
                const day = String(date.getDate()).padStart(2, '0');
                const dateKey = `${month}-${day}`;
                
                // Obtener santo del d√≠a
                let saint;
                if (santosPorFecha[dateKey]) {
                    saint = santosPorFecha[dateKey];
                } else {
                    // Si no est√° en la base de datos, crear un objeto gen√©rico
                    saint = { 
                        name: 'Feria', 
                        type: 'Feria', 
                        description: 'D√≠a ordinario del tiempo lit√∫rgico sin celebraci√≥n especial.' 
                    };
                }
                
                // Si no es feria, agregar a la tabla
                if (saint.type !== 'Feria') {
                    const row = document.createElement('tr');
                    row.className = 'saint-row border-b border-gray-100 transition-colors duration-200';
                    
                    // Celda de fecha
                    const dateCell = document.createElement('td');
                    dateCell.className = 'py-3 px-4 font-medium';
                    dateCell.textContent = date.toLocaleDateString('es-ES', { day: 'numeric', month: 'long' });
                    row.appendChild(dateCell);
                    
                    // Celda del d√≠a de la semana
                    const dayCell = document.createElement('td');
                    dayCell.className = 'py-3 px-4 capitalize';
                    dayCell.textContent = date.toLocaleDateString('es-ES', { weekday: 'long' });
                    row.appendChild(dayCell);
                    
                    // Celda del santo
                    const saintCell = document.createElement('td');
                    saintCell.className = 'py-3 px-4 saint-cell';
                    
                    // Crear un span para el nombre
                    const nameSpan = document.createElement('span');
                    nameSpan.textContent = saint.name;
                    saintCell.appendChild(nameSpan);
                    
                    // A√±adir badge del tipo
                    const typeBadge = document.createElement('span');
                    typeBadge.className = `celebration-badge ${
                        saint.type === 'Solemnidad' ? 'badge-solemnidad' :
                        saint.type === 'Fiesta' ? 'badge-fiesta' :
                        'badge-memoria'
                    }`;
                    typeBadge.textContent = saint.type;
                    saintCell.appendChild(typeBadge);
                    
                    // Crear una funci√≥n que capture el santo correcto para el tooltip
                    const tooltipHandler = function(currentSaint) {
                        return function(event) {
                            showTooltip(event, currentSaint);
                        };
                    };
                    
                    // Agregar evento para el tooltip
                    saintCell.addEventListener('mouseover', tooltipHandler(saint));
                    saintCell.addEventListener('mouseout', hideTooltip);
                    
                    row.appendChild(saintCell);
                    
                    tbody.appendChild(row);
                    
                    celebrationsFound++;
                }
                
                daysToCheck++;
            }
            
            // Si no se encontraron suficientes celebraciones, mostrar un mensaje
            if (celebrationsFound === 0) {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td colspan="3" class="py-6 px-4 text-center text-gray-500">
                        <i class="fas fa-calendar-times text-2xl mb-2"></i>
                        <p>No se encontraron celebraciones en los pr√≥ximos d√≠as</p>
                    </td>
                `;
                tbody.appendChild(row);
            }
        }

        // Ejecutar al cargar la p√°gina
        document.addEventListener('DOMContentLoaded', initializePage);
    </script>
</body>
</html>